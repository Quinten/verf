<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Verf | Controls pointer</title>
        <meta name="description" content="">
        <meta name="author" content="Quinten Clause">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="../styles.css" />
    </head>
    <body>
        <script type="module">
            import {VerfGame, Scene, GameObject, Pointer} from '../index.js';

            class TestScene extends Scene {
                init ()
                {
                    // normal square in the world (for reference)
                    this.square = this.add(new GameObject({x: 1024, y: 1024}));
                    this.square.fillStyle = '#fcfff7';
                    this.square.width = 96;
                    this.square.height = 96;

                    this.camera.followTarget = this.square;

                    this.pointer = this.addControls(new Pointer());

                    this.pointer.on('pointerup', (e) => {
                        console.log(e);
                        if (e.worldX < this.square.x - this.square.width / 2) {
                            return;
                        }
                        if (e.worldX > this.square.x + this.square.width / 2) {
                            return;
                        }
                        if (e.worldY < this.square.y - this.square.height / 2) {
                            return;
                        }
                        if (e.worldY > this.square.y + this.square.height / 2) {
                            return;
                        }
                        this.camera.shake();
                    });
                }
            }

            const game = new VerfGame({
                scenes: [{class: TestScene}],
                width: 320,
                height: 240,
                background: '#75485e'
            });
        </script>
    </body>
</html>
